<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillForge AI Learning Platform</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Fonts & Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* Smooth scrolling */
        html { scroll-behavior: smooth; }
        /* Hide scrollbar for clean UI */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // --- Inline Icon System (Replaces Lucide-React to fix load errors) ---
        
        const IconWrapper = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const Icons = {
            Brain: (p) => <IconWrapper {...p}><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/><path d="M3.477 10.896a4 4 0 0 1 .585-.396"/><path d="M19.938 10.5a4 4 0 0 1 .585.396"/><path d="M6 18a4 4 0 0 1-1.967-.516"/><path d="M19.967 17.484A4 4 0 0 1 18 18"/></IconWrapper>,
            BookOpen: (p) => <IconWrapper {...p}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></IconWrapper>,
            Trophy: (p) => <IconWrapper {...p}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></IconWrapper>,
            Users: (p) => <IconWrapper {...p}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconWrapper>,
            Activity: (p) => <IconWrapper {...p}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></IconWrapper>,
            LogOut: (p) => <IconWrapper {...p}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></IconWrapper>,
            ChevronRight: (p) => <IconWrapper {...p}><path d="m9 18 6-6-6-6"/></IconWrapper>,
            Zap: (p) => <IconWrapper {...p}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconWrapper>,
            LayoutDashboard: (p) => <IconWrapper {...p}><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></IconWrapper>,
            FileText: (p) => <IconWrapper {...p}><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></IconWrapper>,
            Settings: (p) => <IconWrapper {...p}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></IconWrapper>,
            Menu: (p) => <IconWrapper {...p}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconWrapper>,
            X: (p) => <IconWrapper {...p}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconWrapper>,
            Search: (p) => <IconWrapper {...p}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></IconWrapper>,
            CheckCircle: (p) => <IconWrapper {...p}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconWrapper>,
            Clock: (p) => <IconWrapper {...p}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconWrapper>,
            TrendingUp: (p) => <IconWrapper {...p}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></IconWrapper>,
            AlertCircle: (p) => <IconWrapper {...p}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></IconWrapper>
        };

        const { 
          Brain, 
          BookOpen, 
          Trophy, 
          Users, 
          Activity, 
          LogOut, 
          ChevronRight, 
          Zap, 
          LayoutDashboard, 
          FileText, 
          Settings,
          Menu,
          X,
          Search,
          CheckCircle,
          Clock,
          TrendingUp,
          AlertCircle
        } = Icons;

        // --- Mock Data ---

        const studentData = {
          name: "Alex Carter",
          level: "Intermediate",
          streak: 14,
          progress: 68,
          recommended: [
            { id: 1, title: "Advanced Calculus", reason: "Weakness detected in Derivatives", type: "video" },
            { id: 2, title: "Physics: Quantum Mechanics", reason: "Next step in your learning path", type: "quiz" },
          ],
          courses: [
            { id: 101, title: "Data Structures", progress: 85, color: "bg-blue-500" },
            { id: 102, title: "System Design", progress: 40, color: "bg-purple-500" },
            { id: 103, title: "Algorithm Analysis", progress: 12, color: "bg-pink-500" },
          ],
          results: [
            { id: 1, exam: "Mid-Term CS101", score: 92, grade: "A", date: "Oct 12" },
            { id: 2, exam: "Weekly Quiz: Trees", score: 78, grade: "B+", date: "Oct 15" },
          ]
        };

        const teacherData = {
          name: "Prof. Sarah Jenkins",
          classes: ["CS-101", "CS-204", "MATH-300"],
          alerts: [
            { id: 1, message: "5 students are struggling with Recursion", type: "warning" },
            { id: 2, message: "Exam generation for CS-204 completed", type: "success" },
          ],
          recentExams: [
            { id: 1, title: "Finals Preparation", generatedBy: "AI Model v2", status: "Published" },
            { id: 2, title: "Pop Quiz: Sorting", generatedBy: "Manual", status: "Draft" },
          ]
        };

        // --- Components ---

        const Button = ({ children, onClick, variant = 'primary', className = '', icon: Icon }) => {
          const baseStyle = "px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2";
          const variants = {
            primary: "bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-200",
            secondary: "bg-white text-indigo-900 border border-indigo-100 hover:bg-indigo-50",
            ghost: "text-gray-600 hover:bg-gray-100",
            outline: "border-2 border-white text-white hover:bg-white hover:text-indigo-600"
          };

          return (
            <button onClick={onClick} className={`${baseStyle} ${variants[variant]} ${className}`}>
              {Icon && <Icon size={18} />}
              {children}
            </button>
          );
        };

        const Card = ({ children, className = "" }) => (
          <div className={`bg-white rounded-xl shadow-sm border border-slate-100 p-6 ${className}`}>
            {children}
          </div>
        );

        const Badge = ({ children, type = 'info' }) => {
          const styles = {
            info: "bg-blue-100 text-blue-700",
            success: "bg-green-100 text-green-700",
            warning: "bg-amber-100 text-amber-700",
            purple: "bg-purple-100 text-purple-700"
          };
          return (
            <span className={`px-2 py-1 rounded-full text-xs font-semibold ${styles[type]}`}>
              {children}
            </span>
          );
        };

        // --- Standalone Views (Moved outside App to prevent nesting errors) ---

        const LandingPage = ({ onLogin }) => (
            <div className="min-h-screen bg-gradient-to-br from-slate-50 to-indigo-50 font-sans text-slate-800">
              <nav className="flex justify-between items-center p-6 max-w-7xl mx-auto">
                <div className="flex items-center gap-2 text-indigo-700 font-bold text-2xl">
                  <Brain className="w-8 h-8" />
                  <span>SkillForge<span className="text-indigo-400">.ai</span></span>
                </div>
                <div className="hidden md:flex gap-6">
                  <a href="#" className="text-slate-600 hover:text-indigo-600">Features</a>
                  <a href="#" className="text-slate-600 hover:text-indigo-600">Adaptive Engine</a>
                  <a href="#" className="text-slate-600 hover:text-indigo-600">Pricing</a>
                </div>
                <Button variant="secondary" onClick={() => onLogin('student')}>Sign In</Button>
              </nav>

              <main className="max-w-7xl mx-auto px-6 mt-16 md:mt-24 grid md:grid-cols-2 gap-12 items-center">
                <div className="space-y-8">
                  <Badge type="purple">AI-Powered Learning V2.0</Badge>
                  <h1 className="text-5xl md:text-6xl font-extrabold leading-tight text-slate-900">
                    Learn smarter, not <span className="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600">harder</span>.
                  </h1>
                  <p className="text-xl text-slate-600 leading-relaxed">
                    The world's first adaptive learning platform that generates exams and creates custom study paths based on your cognitive performance in real-time.
                  </p>
                  <div className="flex flex-col sm:flex-row gap-4">
                    <Button onClick={() => onLogin('student')} className="h-12 px-8">
                      Start Learning (Student)
                    </Button>
                    <Button variant="secondary" onClick={() => onLogin('teacher')} className="h-12 px-8">
                      Teacher Access
                    </Button>
                  </div>
                  
                  <div className="flex items-center gap-6 pt-4 text-sm text-slate-500">
                    <div className="flex items-center gap-2">
                      <CheckCircle size={16} className="text-green-500" /> Adaptive Exams
                    </div>
                    <div className="flex items-center gap-2">
                      <CheckCircle size={16} className="text-green-500" /> Real-time Analytics
                    </div>
                  </div>
                </div>

                <div className="relative">
                  <div className="absolute top-0 right-0 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-2xl opacity-30 animate-pulse"></div>
                  <div className="absolute bottom-0 left-0 w-72 h-72 bg-indigo-300 rounded-full mix-blend-multiply filter blur-2xl opacity-30 animate-pulse delay-1000"></div>
                  <div className="bg-white/80 backdrop-blur-xl border border-white/20 p-8 rounded-2xl shadow-2xl relative z-10">
                    <div className="flex items-center justify-between mb-6">
                      <h3 className="font-bold text-slate-700">AI Analysis</h3>
                      <Badge type="success">Live</Badge>
                    </div>
                    <div className="space-y-4">
                      <div className="flex justify-between text-sm">
                        <span>Knowledge Retention</span>
                        <span className="font-bold text-indigo-600">92%</span>
                      </div>
                      <div className="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div className="h-full w-[92%] bg-indigo-600 rounded-full"></div>
                      </div>
                      
                      <div className="flex justify-between text-sm">
                        <span>Problem Solving</span>
                        <span className="font-bold text-purple-600">78%</span>
                      </div>
                      <div className="h-2 bg-slate-100 rounded-full overflow-hidden">
                        <div className="h-full w-[78%] bg-purple-600 rounded-full"></div>
                      </div>

                      <div className="bg-indigo-50 p-4 rounded-lg mt-4 border border-indigo-100">
                        <div className="flex gap-3">
                          <Zap className="text-indigo-600 shrink-0" size={20} />
                          <div>
                            <h4 className="font-bold text-sm text-indigo-900">Adaptive Insight</h4>
                            <p className="text-xs text-indigo-700 mt-1">
                              User shows strong aptitude in Logic but needs review in Calculus. Adjusting curriculum path...
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </main>
            </div>
        );

        const LoginScreen = ({ role, onNavigate }) => (
            <div className="min-h-screen flex items-center justify-center bg-slate-50 p-4">
              <div className="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-100">
                <div className="text-center mb-8">
                  <div className="inline-flex p-3 rounded-full bg-indigo-50 text-indigo-600 mb-4">
                    {role === 'student' ? <BookOpen size={24} /> : <Users size={24} />}
                  </div>
                  <h2 className="text-2xl font-bold text-slate-900">
                    {role === 'student' ? 'Student Portal' : 'Educator Login'}
                  </h2>
                  <p className="text-slate-500 text-sm mt-2">Welcome back to SkillForge AI</p>
                </div>

                <form className="space-y-4" onSubmit={(e) => {
                  e.preventDefault();
                  onNavigate();
                }}>
                  <div>
                    <label className="block text-sm font-medium text-slate-700 mb-1">Email Address</label>
                    <input 
                      type="email" 
                      className="w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                      placeholder={role === 'student' ? "student@skillforge.ai" : "teacher@skillforge.ai"}
                      defaultValue={role === 'student' ? "student@skillforge.ai" : "teacher@skillforge.ai"}
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-slate-700 mb-1">Password</label>
                    <input 
                      type="password" 
                      className="w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                      placeholder="••••••••"
                      defaultValue="password"
                    />
                  </div>
                  <Button className="w-full justify-center">Sign In</Button>
                </form>

                <div className="mt-6 text-center">
                  <button onClick={() => onNavigate(true)} className="text-sm text-slate-500 hover:text-indigo-600">
                    ← Back to Home
                  </button>
                </div>
              </div>
            </div>
        );

        const DashboardLayout = ({ role, children, activeTab, setActiveTab, onLogout }) => {
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            
            const navItems = role === 'student' 
              ? [
                  { id: 'overview', label: 'Dashboard', icon: LayoutDashboard },
                  { id: 'courses', label: 'My Courses', icon: BookOpen },
                  { id: 'results', label: 'Results & Analytics', icon: Trophy },
                  { id: 'settings', label: 'Settings', icon: Settings },
                ]
              : [
                  { id: 'overview', label: 'Class Overview', icon: Activity },
                  { id: 'students', label: 'Students', icon: Users },
                  { id: 'exams', label: 'AI Exam Generator', icon: FileText },
                  { id: 'settings', label: 'Settings', icon: Settings },
                ];

            return (
              <div className="flex h-screen bg-slate-50 overflow-hidden">
                {/* Sidebar Desktop */}
                <aside className="hidden md:flex flex-col w-64 bg-slate-900 text-slate-300">
                  <div className="p-6 border-b border-slate-800 flex items-center gap-3 text-white font-bold text-xl">
                    <Brain className="text-indigo-400" /> SkillForge
                  </div>
                  <nav className="flex-1 p-4 space-y-2">
                    {navItems.map((item) => (
                      <button
                        key={item.id}
                        onClick={() => setActiveTab(item.id)}
                        className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${
                          activeTab === item.id 
                            ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-900/20' 
                            : 'hover:bg-slate-800'
                        }`}
                      >
                        <item.icon size={20} />
                        {item.label}
                      </button>
                    ))}
                  </nav>
                  <div className="p-4 border-t border-slate-800">
                    <button 
                      onClick={onLogout} 
                      className="flex items-center gap-3 px-4 py-2 text-slate-400 hover:text-white transition-colors w-full"
                    >
                      <LogOut size={20} /> Sign Out
                    </button>
                  </div>
                </aside>

                {/* Mobile Header & Content */}
                <div className="flex-1 flex flex-col h-full overflow-hidden">
                  <header className="bg-white border-b border-slate-200 h-16 flex items-center justify-between px-6 shrink-0">
                    <div className="flex items-center gap-4 md:hidden">
                      <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className="text-slate-600">
                        {isMobileMenuOpen ? <X /> : <Menu />}
                      </button>
                      <span className="font-bold text-slate-900">SkillForge</span>
                    </div>
                    
                    {/* Search Bar */}
                    <div className="hidden md:flex items-center bg-slate-100 px-3 py-2 rounded-lg w-96">
                      <Search size={18} className="text-slate-400" />
                      <input 
                        type="text" 
                        placeholder="Search courses, exams, or students..." 
                        className="bg-transparent border-none focus:outline-none ml-2 w-full text-sm" 
                      />
                    </div>

                    <div className="flex items-center gap-4">
                      <div className="text-right hidden sm:block">
                        <p className="text-sm font-bold text-slate-900">{role === 'student' ? studentData.name : teacherData.name}</p>
                        <p className="text-xs text-slate-500 uppercase tracking-wider">{role}</p>
                      </div>
                      <div className="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border-2 border-indigo-200">
                        {role === 'student' ? "AC" : "SJ"}
                      </div>
                    </div>
                  </header>
                  
                  {/* Main Content Area */}
                  <main className="flex-1 overflow-y-auto p-6">
                    {/* Mobile Menu Overlay */}
                    {isMobileMenuOpen && (
                      <div className="md:hidden absolute top-16 left-0 w-full bg-slate-900 text-slate-300 z-50 p-4 space-y-2 shadow-xl">
                         {navItems.map((item) => (
                          <button
                            key={item.id}
                            onClick={() => { setActiveTab(item.id); setIsMobileMenuOpen(false); }}
                            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg ${
                              activeTab === item.id ? 'bg-indigo-600 text-white' : 'hover:bg-slate-800'
                            }`}
                          >
                            <item.icon size={20} />
                            {item.label}
                          </button>
                        ))}
                        <button onClick={onLogout} className="w-full flex items-center gap-3 px-4 py-3 text-red-400">
                          <LogOut size={20} /> Sign Out
                        </button>
                      </div>
                    )}
                    {children}
                  </main>
                </div>
              </div>
            );
        };

        const StudentOverview = () => (
            <div className="space-y-6">
              <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <div>
                  <h2 className="text-2xl font-bold text-slate-900">Hello, {studentData.name}</h2>
                  <p className="text-slate-500">Your AI Learning Assistant has optimized your schedule.</p>
                </div>
                <Button variant="primary" icon={Zap}>Start Adaptive Session</Button>
              </div>

              {/* Stats Row */}
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <Card className="flex items-center gap-4 border-l-4 border-l-indigo-500">
                  <div className="p-3 bg-indigo-50 rounded-lg text-indigo-600">
                    <TrendingUp size={24} />
                  </div>
                  <div>
                    <p className="text-sm text-slate-500">Learning Streak</p>
                    <p className="text-2xl font-bold text-slate-900">{studentData.streak} Days</p>
                  </div>
                </Card>
                <Card className="flex items-center gap-4 border-l-4 border-l-green-500">
                  <div className="p-3 bg-green-50 rounded-lg text-green-600">
                    <CheckCircle size={24} />
                  </div>
                  <div>
                    <p className="text-sm text-slate-500">Modules Completed</p>
                    <p className="text-2xl font-bold text-slate-900">24/32</p>
                  </div>
                </Card>
                <Card className="flex items-center gap-4 border-l-4 border-l-purple-500">
                  <div className="p-3 bg-purple-50 rounded-lg text-purple-600">
                    <Brain size={24} />
                  </div>
                  <div>
                    <p className="text-sm text-slate-500">Knowledge Level</p>
                    <p className="text-2xl font-bold text-slate-900">{studentData.level}</p>
                  </div>
                </Card>
              </div>

              <div className="grid md:grid-cols-3 gap-6">
                {/* AI Recommendations */}
                <div className="md:col-span-2 space-y-6">
                  <h3 className="font-bold text-slate-800 text-lg flex items-center gap-2">
                    <Zap size={20} className="text-yellow-500 fill-current" /> AI Recommendations
                  </h3>
                  {studentData.recommended.map((item) => (
                    <Card key={item.id} className="group hover:border-indigo-300 transition-colors cursor-pointer">
                      <div className="flex items-start justify-between">
                        <div className="flex gap-4">
                          <div className={`mt-1 p-2 rounded-lg ${item.type === 'video' ? 'bg-red-100 text-red-600' : 'bg-blue-100 text-blue-600'}`}>
                            {item.type === 'video' ? <BookOpen size={20} /> : <FileText size={20} />}
                          </div>
                          <div>
                            <h4 className="font-bold text-slate-900 group-hover:text-indigo-600 transition-colors">{item.title}</h4>
                            <p className="text-sm text-slate-500 mt-1">{item.reason}</p>
                          </div>
                        </div>
                        <ChevronRight className="text-slate-300 group-hover:text-indigo-500" />
                      </div>
                    </Card>
                  ))}

                  <h3 className="font-bold text-slate-800 text-lg mt-8">Recent Courses</h3>
                  <div className="grid sm:grid-cols-2 gap-4">
                    {studentData.courses.map(course => (
                      <Card key={course.id} className="relative overflow-hidden">
                        <div className={`absolute top-0 left-0 w-1 h-full ${course.color}`}></div>
                        <div className="flex justify-between items-center mb-4">
                          <h4 className="font-bold text-slate-800">{course.title}</h4>
                          <span className="text-xs font-mono bg-slate-100 px-2 py-1 rounded">{course.progress}%</span>
                        </div>
                        <div className="w-full bg-slate-100 rounded-full h-2">
                          <div className={`h-full rounded-full ${course.color}`} style={{ width: `${course.progress}%` }}></div>
                        </div>
                      </Card>
                    ))}
                  </div>
                </div>

                {/* Sidebar Widgets */}
                <div className="space-y-6">
                  <Card className="bg-gradient-to-br from-indigo-600 to-purple-700 text-white border-none">
                    <h3 className="font-bold mb-2">Weekly Goal</h3>
                    <div className="flex items-end gap-2">
                      <span className="text-4xl font-bold">4.5</span>
                      <span className="mb-2 opacity-80">/ 5 hrs</span>
                    </div>
                    <p className="text-xs mt-2 opacity-80">You're ahead of 80% of your peers!</p>
                  </Card>

                  <Card>
                     <h3 className="font-bold text-slate-800 mb-4">Upcoming Exams</h3>
                     <div className="space-y-4">
                        <div className="flex items-center gap-3">
                          <div className="text-center bg-slate-100 rounded p-2 min-w-[50px]">
                            <span className="block text-xs font-bold text-slate-500">NOV</span>
                            <span className="block text-lg font-bold text-slate-900">03</span>
                          </div>
                          <div>
                            <p className="font-medium text-slate-900">Linear Algebra Final</p>
                            <p className="text-xs text-slate-500">10:00 AM - Online</p>
                          </div>
                        </div>
                     </div>
                  </Card>
                </div>
              </div>
            </div>
        );

        const StudentResults = () => (
            <div className="space-y-6">
              <h2 className="text-2xl font-bold text-slate-900">Performance Analytics</h2>
              <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                {studentData.results.map(res => (
                  <Card key={res.id}>
                    <div className="flex justify-between items-start mb-4">
                      <div>
                        <h3 className="font-bold text-slate-900">{res.exam}</h3>
                        <p className="text-sm text-slate-500">{res.date}</p>
                      </div>
                      <div className={`px-3 py-1 rounded-lg font-bold text-lg ${res.score >= 90 ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>
                        {res.grade}
                      </div>
                    </div>
                    <div className="flex justify-between items-center text-sm text-slate-600 border-t border-slate-100 pt-4">
                      <span>Score: {res.score}%</span>
                      <button className="text-indigo-600 font-medium hover:underline">View Mistakes</button>
                    </div>
                  </Card>
                ))}
              </div>
              <Card className="bg-slate-50 border-dashed">
                <div className="text-center py-8">
                  <Activity className="mx-auto h-12 w-12 text-slate-400 mb-3" />
                  <h3 className="text-lg font-medium text-slate-900">Generating Analysis...</h3>
                  <p className="text-slate-500">The AI is analyzing your recent quiz performance to adjust your next module.</p>
                </div>
              </Card>
            </div>
        );

        const TeacherOverview = () => (
            <div className="space-y-6">
              <div className="flex justify-between items-center">
                <h2 className="text-2xl font-bold text-slate-900">Classroom Pulse</h2>
                <Button variant="outline" className="border-slate-300 text-slate-600 hover:bg-slate-50">
                   Download Report
                </Button>
              </div>

              {/* Alerts */}
              <div className="space-y-2">
                {teacherData.alerts.map(alert => (
                  <div key={alert.id} className={`p-4 rounded-lg flex items-center gap-3 ${alert.type === 'warning' ? 'bg-amber-50 text-amber-800 border border-amber-200' : 'bg-green-50 text-green-800 border border-green-200'}`}>
                    {alert.type === 'warning' ? <AlertCircle size={20} /> : <CheckCircle size={20} />}
                    <span className="font-medium">{alert.message}</span>
                  </div>
                ))}
              </div>

              <div className="grid md:grid-cols-2 gap-6">
                <Card>
                  <div className="flex justify-between items-center mb-6">
                    <h3 className="font-bold text-slate-800">Class Average Performance</h3>
                    <select className="bg-slate-100 border-none rounded-md text-sm px-2 py-1">
                      <option>CS-101</option>
                      <option>CS-204</option>
                    </select>
                  </div>
                  {/* Mock Graph Bars */}
                  <div className="flex items-end justify-between h-48 gap-2">
                    {[45, 60, 75, 50, 80, 95, 70].map((h, i) => (
                      <div key={i} className="w-full bg-slate-100 rounded-t-sm relative group">
                        <div 
                          className="absolute bottom-0 w-full bg-indigo-500 rounded-t-sm transition-all duration-500 group-hover:bg-indigo-600"
                          style={{ height: `${h}%` }}
                        ></div>
                        {/* Tooltip */}
                        <div className="absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity">
                          {h}%
                        </div>
                      </div>
                    ))}
                  </div>
                  <div className="flex justify-between text-xs text-slate-400 mt-2">
                     <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                  </div>
                </Card>

                <Card>
                  <h3 className="font-bold text-slate-800 mb-4">Exam Status</h3>
                  <div className="space-y-4">
                    {teacherData.recentExams.map(exam => (
                       <div key={exam.id} className="flex items-center justify-between p-3 border rounded-lg hover:bg-slate-50">
                         <div className="flex items-center gap-3">
                           <div className="bg-indigo-100 p-2 rounded text-indigo-600">
                             <FileText size={18} />
                           </div>
                           <div>
                             <p className="font-bold text-slate-800 text-sm">{exam.title}</p>
                             <p className="text-xs text-slate-500">Source: {exam.generatedBy}</p>
                           </div>
                         </div>
                         <Badge type={exam.status === 'Published' ? 'success' : 'warning'}>{exam.status}</Badge>
                       </div>
                    ))}
                    <Button variant="secondary" className="w-full text-sm py-2" onClick={() => setActiveTab('exams')}>
                      + Create New Assessment
                    </Button>
                  </div>
                </Card>
              </div>
            </div>
        );

        const ExamGenerator = () => (
            <div className="space-y-6 max-w-4xl mx-auto">
              <div className="text-center mb-8">
                <h2 className="text-3xl font-bold text-slate-900">AI Exam Generator</h2>
                <p className="text-slate-500">Configure parameters and let SkillForge AI craft the perfect assessment.</p>
              </div>

              <Card className="p-8">
                <div className="grid md:grid-cols-2 gap-6 mb-6">
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Subject & Topic</label>
                    <input type="text" className="w-full p-3 border rounded-lg bg-slate-50" placeholder="e.g. Data Structures, Binary Trees" />
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Difficulty Level</label>
                    <select className="w-full p-3 border rounded-lg bg-slate-50">
                      <option>Adaptive (Mixed)</option>
                      <option>Beginner</option>
                      <option>Advanced</option>
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Question Types</label>
                     <div className="flex gap-4">
                        <label className="flex items-center gap-2 text-sm text-slate-600">
                          <input type="checkbox" className="rounded text-indigo-600" defaultChecked /> Multiple Choice
                        </label>
                        <label className="flex items-center gap-2 text-sm text-slate-600">
                          <input type="checkbox" className="rounded text-indigo-600" defaultChecked /> Coding Problems
                        </label>
                     </div>
                  </div>
                  <div>
                    <label className="block text-sm font-bold text-slate-700 mb-2">Est. Duration</label>
                    <div className="flex items-center gap-2">
                      <Clock size={18} className="text-slate-400" />
                      <input type="range" className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" />
                      <span className="text-sm font-bold text-slate-700">45m</span>
                    </div>
                  </div>
                </div>

                <div className="border-t border-slate-100 pt-6">
                  <h4 className="font-bold text-indigo-900 mb-4 flex items-center gap-2">
                    <Zap size={18} /> AI Configuration
                  </h4>
                  <div className="bg-indigo-50 p-4 rounded-lg mb-6">
                    <label className="flex items-start gap-3">
                      <input type="checkbox" className="mt-1 rounded text-indigo-600" defaultChecked />
                      <div>
                        <span className="font-bold text-indigo-900 text-sm">Target Weak Areas</span>
                        <p className="text-xs text-indigo-700">The AI will prioritize questions based on class performance history in previous modules (Recursion, Pointers).</p>
                      </div>
                    </label>
                  </div>
                  
                  <Button className="w-full py-4 text-lg">
                     Generate Exam Preview
                  </Button>
                </div>
              </Card>
            </div>
        );

        // --- Main App Component ---

        const App = () => {
          // States: 'landing', 'login-student', 'login-teacher', 'student-dash', 'teacher-dash'
          const [view, setView] = useState('landing');
          const [activeTab, setActiveTab] = useState('overview');

          const handleLogin = (role) => {
             if (role === 'student') setView('login-student');
             else setView('login-teacher');
          };

          const handleNavigateToDash = (backToHome = false) => {
             if (backToHome) {
                 setView('landing');
             } else {
                 if (view === 'login-student') setView('student-dash');
                 else setView('teacher-dash');
                 setActiveTab('overview');
             }
          };
          
          const handleLogout = () => {
              setView('landing');
              setActiveTab('overview');
          };

          if (view === 'landing') return <LandingPage onLogin={handleLogin} />;
          
          if (view === 'login-student') return <LoginScreen role="student" onNavigate={handleNavigateToDash} />;
          if (view === 'login-teacher') return <LoginScreen role="teacher" onNavigate={handleNavigateToDash} />;

          if (view === 'student-dash') {
            return (
              <DashboardLayout role="student" activeTab={activeTab} setActiveTab={setActiveTab} onLogout={handleLogout}>
                {activeTab === 'overview' && <StudentOverview />}
                {activeTab === 'courses' && <div className="text-2xl font-bold text-slate-400 text-center mt-20">Courses Module Loading...</div>}
                {activeTab === 'results' && <StudentResults />}
                {activeTab === 'settings' && <div className="text-2xl font-bold text-slate-400 text-center mt-20">Settings Panel</div>}
              </DashboardLayout>
            );
          }

          if (view === 'teacher-dash') {
            return (
              <DashboardLayout role="teacher" activeTab={activeTab} setActiveTab={setActiveTab} onLogout={handleLogout}>
                {activeTab === 'overview' && <TeacherOverview />}
                {activeTab === 'exams' && <ExamGenerator />}
                {activeTab === 'students' && <div className="text-2xl font-bold text-slate-400 text-center mt-20">Student Management Module</div>}
                {activeTab === 'settings' && <div className="text-2xl font-bold text-slate-400 text-center mt-20">Settings Panel</div>}
              </DashboardLayout>
            );
          }

          return null;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>